<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 

  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:p="http://xmlns.jcp.org/jsf/passthrough">

<h:head>

    <!-- Required meta tags-->

    <meta charset="UTF-8" />

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

    <meta name="description" content="au theme template" />

    <meta name="author" content="Hau Nguyen" />

    <meta name="keywords" content="au theme template" />

    <!-- Title Page-->

    <title>Movie Addition Form</title>

    <ui:include name="header" src="parts/stylesheets.html" />

</h:head>

<h:body class="animsition">

    <div class="page-wrapper">

        <ui:include src="parts/menu_sidebar.xhtml"></ui:include>

        <!-- PAGE CONTAINER-->

        <div class="page-container2">

            <ui:include src="parts/header_desktop.xhtml"></ui:include>

            <!-- BREADCRUMB-->

            <section class="au-breadcrumb m-t-75">

                <div class="section__content section__content--p30">

                    <div class="container-fluid">

                        <div class="row">

                            <div class="col-md-12">

                                <div class="au-breadcrumb-content">

                                    <div class="au-breadcrumb-left">

                                        <span class="au-breadcrumb-span">You are here:</span>

                                        <ul class="list-unstyled list-inline au-breadcrumb__list">

                                            <li class="list-inline-item ">

                                                <a href="http://localhost:8880/cinema-app/admin/index.xhtml">Administrator Panel</a>

                                            </li>

                                            <li class="list-inline-item seprate">

                                                <span>/</span>

                                            </li>

                                            <li class="list-inline-item">

                                                <a href="http://localhost:8880/cinema-app/admin/movies.xhtml">Movies</a>

                                            </li>

                                            <li class="list-inline-item seprate">

                                                <span>/</span>

                                            </li>

                                            <li class="list-inline-item active">Add Movie</li>

                                        </ul>

                                    </div>

                                </div>

                            </div>

                        </div>

                    </div>

                </div>

            </section>

            <!-- END BREADCRUMB-->

            <!-- F U N C T I O N A L I T I E S-->

            <!-- MAIN CONTENT-->

            <br/>

            <div class="section__content section__content--p30">

                <div class="container-fluid">

                    <div class="row">

                        <div class="col-lg-8 offset-md-2">

                            <div class="card">

                                <div class="card-header">Add a Movie</div>

                                <div class="card-body">

                                    <div class="card-title">

                                        <h3 class="text-center title-2">Fill the form</h3>

                                    </div>

                                    <hr/>

                                    <h:form>

                                        <div class="form-group">

                                            <label class="control-label mb-1">Movie Title</label>

                                            <h:inputText id="mtitle" class="form-control" value="#{movieBean.movie.title}" label="Movie's Title" required="true"></h:inputText>

                                            <h:message for="mtitle" style="color:red" />

                                        </div>

                                        <div class="form-group">

                                            <label class="control-label mb-1">Description</label>

                                            <h:inputTextarea id="mdescription" label="Movie's Duration" class="form-control" value="#{movieBean.movie.description}" required="true">
                                            </h:inputTextarea>
											
                                            <h:message for="mdescription" style="color:red" />

                                        </div>

                                        <div class="form-group">

                                            <label class="control-label mb-1">IMDB</label>

                                            <h:inputText id="mimdb" label="Movie's IMDB" class="form-control" value="#{movieBean.movie.imdb}" required="true"></h:inputText>

                                            <h:message for="mimdb" style="color:red" />

                                        </div>

                                        <div class="form-group">

                                            <label class="control-label mb-1">Category</label>

                                            <h:selectOneMenu id="mcategory" label="Movie's Category" class="form-control" value="#{movieBean.category}" required="true">

                                                <f:selectItems value="#{movieBean.categories}" var="category" itemValue="#{category.id}" itemLabel="#{category.name}" />

                                            </h:selectOneMenu>

                                            <h:message for="mcategory" style="color:red" />

                                        </div>

                                        <div class="form-group">

                                            <label class="control-label mb-1">Duration</label>

                                            <h:inputText id="mduration" label="Movie's Duration" class="form-control" p:type="number" value="#{movieBean.movie.duration}" required="true">
                                            	<f:validateLongRange min="30" max="200"></f:validateLongRange>
                                                <f:converter converterId="javax.faces.Integer" />
                                            </h:inputText>

                                            <h:message for="mduration" style="color:red" />

                                        </div>

                                        <div class="form-group">

                                            <label class="control-label mb-1">Director</label>

                                            <h:inputText id="mdirector" label="Movie's Director" value="#{movieBean.movie.director}" class="form-control" required="true"></h:inputText>

                                            <h:message for="mtitle" style="color:red" />

                                        </div>

                                        <div class="form-group">

                                            <label class="control-label mb-1">Year</label>

                                            <h:inputText id="myear" label="Movie's Year" class="form-control" p:type="number" value="#{movieBean.movie.year}">
                                            	<f:validateLongRange min="1965" max="2030"></f:validateLongRange>
                                                <f:converter converterId="javax.faces.Integer" />

                                            </h:inputText>

                                            <h:message for="myear" style="color:red" />

                                        </div>

                                        <div class="form-group">

                                            <label class="control-label mb-1">Rating</label>

                                            <h:inputText id="mrating" label="Movie's Rating" value="#{movieBean.movie.rating}" class="form-control">
                                            	<f:validateLongRange min="1" max="10"></f:validateLongRange>
                                                <f:converter converterId="javax.faces.Integer" />

                                            </h:inputText>

                                            <h:message for="mrating" style="color:red" />

                                        </div>

                                        <div class="form-group">

                                            <label class="control-label mb-1">Country</label>

                                            <h:selectOneMenu id="mcountry" label="Movie's Country" value="#{movieBean.country}" class="form-control">

                                                <f:selectItems value="#{movieBean.countries}" var="country" itemValue="#{country.id}" itemLabel="#{country.name}" />

                                            </h:selectOneMenu>

                                            <h:message for="mcountry" style="color:red" />

                                        </div>

                                        <div>

                                            <h:commandButton class="btn btn-lg btn-info btn-block" value="Add Movie" action="#{movieBean.addMovie()}">

                                                <f:ajax disabled="true" render="script" />

                                                <f:ajax disabled="true" render="@form" />

                                            </h:commandButton>
                                            <h:panelGroup id="script">

                                                <h:outputScript rendered="#{not empty movieBean.script}">#{movieBean.script}</h:outputScript>

                                            </h:panelGroup>

                                        </div>

                                    </h:form>

                                </div>

                            </div>

                        </div>

                    </div>

                </div>

            </div>

            <!-- E N D  F U N C T I O N A L I T I E S-->

            <ui:include src="parts/footer.xhtml"></ui:include>

            <!-- END PAGE CONTAINER-->

        </div>

    </div>

    <ui:include src="parts/scripts.xhtml"></ui:include>

</h:body>

</html>